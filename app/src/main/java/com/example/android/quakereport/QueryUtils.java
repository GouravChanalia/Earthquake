package com.example.android.quakereport;

import android.util.Log;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.util.ArrayList;

/**
 * Helper methods related to requesting and receiving earthquake data from USGS.
 */
public final class QueryUtils {

    /** Sample JSON response for a USGS query */
    private static final String SAMPLE_JSON_RESPONSE = "{\"type\":\"FeatureCollection\",\"metadata\":{\"generated\":1604383118000,\"url\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&starttime=2020-10-01&endtime=2020-10-31&minmag=5&limit=30\",\"title\":\"USGS Earthquakes\",\"status\":200,\"api\":\"1.10.3\",\"limit\":30,\"offset\":1,\"count\":30},\"features\":[{\"type\":\"Feature\",\"properties\":{\"mag\":5.3,\"place\":\"203 km ENE of Olonkinbyen, Svalbard and Jan Mayen\",\"time\":1604101605766,\"updated\":1604104757040,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c8gc\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c8gc&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":432,\"net\":\"us\",\"code\":\"7000c8gc\",\"ids\":\",us7000c8gc,\",\"sources\":\",us,\",\"types\":\",moment-tensor,origin,phase-data,\",\"nst\":null,\"dmin\":8.403,\"rms\":0.77,\"gap\":23,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.3 - 203 km ENE of Olonkinbyen, Svalbard and Jan Mayen\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-3.33,71.491,10]},\"id\":\"us7000c8gc\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.6,\"place\":\"Jan Mayen Island region\",\"time\":1604098607634,\"updated\":1604333721040,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c8fy\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c8fy&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":2.98,\"alert\":\"green\",\"status\":\"reviewed\",\"tsunami\":0,\"sig\":482,\"net\":\"us\",\"code\":\"7000c8fy\",\"ids\":\",pt20304001,us7000c8fy,\",\"sources\":\",pt,us,\",\"types\":\",internal-origin,losspager,moment-tensor,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":8.341,\"rms\":0.79,\"gap\":31,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.6 - Jan Mayen Island region\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-3.3424,71.5626,10]},\"id\":\"us7000c8fy\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.5,\"place\":\"50 km NNE of Oxapampa, Peru\",\"time\":1604082282912,\"updated\":1604333472040,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c84t\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c84t&format=geojson\",\"felt\":7,\"cdi\":5.7,\"mmi\":4.802,\"alert\":\"green\",\"status\":\"reviewed\",\"tsunami\":0,\"sig\":469,\"net\":\"us\",\"code\":\"7000c84t\",\"ids\":\",us7000c84t,\",\"sources\":\",us,\",\"types\":\",dyfi,losspager,moment-tensor,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":2.424,\"rms\":0.9,\"gap\":69,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.5 - 50 km NNE of Oxapampa, Peru\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-75.1835,-10.1795,45.29]},\"id\":\"us7000c84t\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5,\"place\":\"86 km WNW of Tari, Papua New Guinea\",\"time\":1604080904159,\"updated\":1604081950040,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c84i\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c84i&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":385,\"net\":\"us\",\"code\":\"7000c84i\",\"ids\":\",us7000c84i,\",\"sources\":\",us,\",\"types\":\",origin,phase-data,\",\"nst\":null,\"dmin\":6.195,\"rms\":1.01,\"gap\":27,\"magType\":\"mb\",\"type\":\"earthquake\",\"title\":\"M 5.0 - 86 km WNW of Tari, Papua New Guinea\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[142.2086,-5.6,31.47]},\"id\":\"us7000c84i\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.2,\"place\":\"8 km NW of Kokkári, Greece\",\"time\":1604070896384,\"updated\":1604142187484,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c7zh\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c7zh&format=geojson\",\"felt\":7,\"cdi\":5.8,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":420,\"net\":\"us\",\"code\":\"7000c7zh\",\"ids\":\",us7000c7zh,\",\"sources\":\",us,\",\"types\":\",dyfi,moment-tensor,origin,phase-data,\",\"nst\":null,\"dmin\":1.509,\"rms\":1.17,\"gap\":39,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.2 - 8 km NW of Kokkári, Greece\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[26.8313,37.8357,10]},\"id\":\"us7000c7zh\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":7,\"place\":\"15 km NNE of Néon Karlovásion, Greece\",\"time\":1604058687563,\"updated\":1604380629339,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c7y0\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c7y0&format=geojson\",\"felt\":825,\"cdi\":7.6,\"mmi\":7.584,\"alert\":\"orange\",\"status\":\"reviewed\",\"tsunami\":0,\"sig\":1627,\"net\":\"us\",\"code\":\"7000c7y0\",\"ids\":\",us7000c7y0,pt20304000,at00qj0jlr,\",\"sources\":\",us,pt,at,\",\"types\":\",dyfi,finite-fault,general-text,ground-failure,internal-origin,losspager,moment-tensor,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":1.505,\"rms\":0.76,\"gap\":18,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 7.0 - 15 km NNE of Néon Karlovásion, Greece\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[26.7901,37.9175,21]},\"id\":\"us7000c7y0\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.6,\"place\":\"41 km E of Auki, Solomon Islands\",\"time\":1604056209904,\"updated\":1604143424393,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c7xt\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c7xt&format=geojson\",\"felt\":1,\"cdi\":4.1,\"mmi\":6.171,\"alert\":\"green\",\"status\":\"reviewed\",\"tsunami\":0,\"sig\":483,\"net\":\"us\",\"code\":\"7000c7xt\",\"ids\":\",us7000c7xt,at00qj0hp2,\",\"sources\":\",us,at,\",\"types\":\",dyfi,internal-origin,losspager,moment-tensor,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":1.272,\"rms\":0.99,\"gap\":49,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.6 - 41 km E of Auki, Solomon Islands\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[161.0729,-8.8151,14.11]},\"id\":\"us7000c7xt\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.3,\"place\":\"south of the Fiji Islands\",\"time\":1604052898937,\"updated\":1604053955040,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c7x8\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c7x8&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":432,\"net\":\"us\",\"code\":\"7000c7x8\",\"ids\":\",us7000c7x8,\",\"sources\":\",us,\",\"types\":\",origin,phase-data,\",\"nst\":null,\"dmin\":4.125,\"rms\":0.99,\"gap\":52,\"magType\":\"mb\",\"type\":\"earthquake\",\"title\":\"M 5.3 - south of the Fiji Islands\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[179.3161,-25.9092,515.33]},\"id\":\"us7000c7x8\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.9,\"place\":\"northern Mid-Atlantic Ridge\",\"time\":1604047122625,\"updated\":1604133813277,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c7wh\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c7wh&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":0,\"alert\":\"green\",\"status\":\"reviewed\",\"tsunami\":0,\"sig\":536,\"net\":\"us\",\"code\":\"7000c7wh\",\"ids\":\",us7000c7wh,\",\"sources\":\",us,\",\"types\":\",losspager,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":17.554,\"rms\":1.36,\"gap\":32,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.9 - northern Mid-Atlantic Ridge\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-43.5183,10.6398,10]},\"id\":\"us7000c7wh\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.1,\"place\":\"102 km SSE of Sand Point, Alaska\",\"time\":1604032589522,\"updated\":1604074981040,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c7v4\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c7v4&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":400,\"net\":\"us\",\"code\":\"7000c7v4\",\"ids\":\",us7000c7v4,ak020dytz0h5,\",\"sources\":\",us,ak,\",\"types\":\",moment-tensor,origin,phase-data,\",\"nst\":null,\"dmin\":0.279,\"rms\":0.88,\"gap\":123,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.1 - 102 km SSE of Sand Point, Alaska\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-159.662,54.5552,31.28]},\"id\":\"us7000c7v4\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.3,\"place\":\"Fiji region\",\"time\":1604025262067,\"updated\":1604026312040,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c7tm\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c7tm&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":432,\"net\":\"us\",\"code\":\"7000c7tm\",\"ids\":\",us7000c7tm,\",\"sources\":\",us,\",\"types\":\",origin,phase-data,\",\"nst\":null,\"dmin\":4.511,\"rms\":1.01,\"gap\":35,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.3 - Fiji region\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-178.5061,-20.8916,580.1]},\"id\":\"us7000c7tm\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5,\"place\":\"South Shetland Islands\",\"time\":1603957252224,\"updated\":1603958436040,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c7e8\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c7e8&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":385,\"net\":\"us\",\"code\":\"7000c7e8\",\"ids\":\",us7000c7e8,\",\"sources\":\",us,\",\"types\":\",origin,phase-data,\",\"nst\":null,\"dmin\":0.278,\"rms\":0.7,\"gap\":99,\"magType\":\"mb\",\"type\":\"earthquake\",\"title\":\"M 5.0 - South Shetland Islands\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-58.3891,-62.4843,10]},\"id\":\"us7000c7e8\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.1,\"place\":\"South Shetland Islands\",\"time\":1603954966825,\"updated\":1603956294040,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c7dw\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c7dw&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":400,\"net\":\"us\",\"code\":\"7000c7dw\",\"ids\":\",us7000c7dw,\",\"sources\":\",us,\",\"types\":\",origin,phase-data,\",\"nst\":null,\"dmin\":0.231,\"rms\":0.95,\"gap\":57,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.1 - South Shetland Islands\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-58.1761,-62.28,10]},\"id\":\"us7000c7dw\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.3,\"place\":\"Easter Island region\",\"time\":1603922889652,\"updated\":1603923956040,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c7a6\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c7a6&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":432,\"net\":\"us\",\"code\":\"7000c7a6\",\"ids\":\",us7000c7a6,\",\"sources\":\",us,\",\"types\":\",origin,phase-data,\",\"nst\":null,\"dmin\":3.233,\"rms\":0.63,\"gap\":105,\"magType\":\"mb\",\"type\":\"earthquake\",\"title\":\"M 5.3 - Easter Island region\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-111.6762,-29.7306,10]},\"id\":\"us7000c7a6\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.4,\"place\":\"South Shetland Islands\",\"time\":1603922424300,\"updated\":1604008920249,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c79x\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c79x&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":4.336,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":449,\"net\":\"us\",\"code\":\"7000c79x\",\"ids\":\",us7000c79x,\",\"sources\":\",us,\",\"types\":\",origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":0.206,\"rms\":1.23,\"gap\":66,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.4 - South Shetland Islands\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-58.2464,-62.3067,10]},\"id\":\"us7000c79x\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.8,\"place\":\"63 km N of La Serena, Chile\",\"time\":1603896790766,\"updated\":1603983482365,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c6u9\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c6u9&format=geojson\",\"felt\":42,\"cdi\":5.4,\"mmi\":5.572,\"alert\":\"green\",\"status\":\"reviewed\",\"tsunami\":0,\"sig\":540,\"net\":\"us\",\"code\":\"7000c6u9\",\"ids\":\",us7000c6u9,pt20302003,\",\"sources\":\",us,pt,\",\"types\":\",dyfi,internal-origin,losspager,moment-tensor,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":0.55,\"rms\":0.71,\"gap\":91,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.8 - 63 km N of La Serena, Chile\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-71.214,-29.3296,43.8]},\"id\":\"us7000c6u9\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.8,\"place\":\"65 km SSW of Sola, Vanuatu\",\"time\":1603894376275,\"updated\":1603981013312,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c6sn\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c6sn&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":3.751,\"alert\":\"green\",\"status\":\"reviewed\",\"tsunami\":0,\"sig\":518,\"net\":\"us\",\"code\":\"7000c6sn\",\"ids\":\",pt20302002,us7000c6sn,\",\"sources\":\",pt,us,\",\"types\":\",internal-origin,losspager,moment-tensor,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":1.015,\"rms\":0.78,\"gap\":53,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.8 - 65 km SSW of Sola, Vanuatu\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[167.3852,-14.4415,178.34]},\"id\":\"us7000c6sn\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.4,\"place\":\"Pacific-Antarctic Ridge\",\"time\":1603887921135,\"updated\":1603974680751,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c6qt\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c6qt&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":0,\"alert\":\"green\",\"status\":\"reviewed\",\"tsunami\":0,\"sig\":449,\"net\":\"us\",\"code\":\"7000c6qt\",\"ids\":\",us7000c6qt,\",\"sources\":\",us,\",\"types\":\",losspager,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":18.26,\"rms\":0.53,\"gap\":118,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.4 - Pacific-Antarctic Ridge\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-156.5043,-63.5089,10]},\"id\":\"us7000c6qt\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.3,\"place\":\"Pacific-Antarctic Ridge\",\"time\":1603886565318,\"updated\":1604069164040,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c7ka\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c7ka&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":432,\"net\":\"us\",\"code\":\"7000c7ka\",\"ids\":\",us7000c7ka,\",\"sources\":\",us,\",\"types\":\",origin,phase-data,\",\"nst\":null,\"dmin\":18.554,\"rms\":0.96,\"gap\":146,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.3 - Pacific-Antarctic Ridge\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-157.7534,-62.9473,10]},\"id\":\"us7000c7ka\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.3,\"place\":\"168 km SSW of Tomohon, Indonesia\",\"time\":1603876139793,\"updated\":1603877420040,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c6p7\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c6p7&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":432,\"net\":\"us\",\"code\":\"7000c6p7\",\"ids\":\",pt20302001,us7000c6p7,\",\"sources\":\",pt,us,\",\"types\":\",internal-origin,origin,phase-data,\",\"nst\":null,\"dmin\":1.903,\"rms\":1.34,\"gap\":24,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.3 - 168 km SSW of Tomohon, Indonesia\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[124.4688,-0.1729,41.18]},\"id\":\"us7000c6p7\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.6,\"place\":\"56 km WSW of Changuillo, Peru\",\"time\":1603875752166,\"updated\":1603962418233,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c6p3\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c6p3&format=geojson\",\"felt\":6,\"cdi\":5.8,\"mmi\":5.806,\"alert\":\"green\",\"status\":\"reviewed\",\"tsunami\":0,\"sig\":486,\"net\":\"us\",\"code\":\"7000c6p3\",\"ids\":\",us7000c6p3,\",\"sources\":\",us,\",\"types\":\",dyfi,losspager,moment-tensor,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":3.135,\"rms\":0.79,\"gap\":131,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.6 - 56 km WSW of Changuillo, Peru\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-75.6744,-14.9272,10]},\"id\":\"us7000c6p3\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.5,\"place\":\"35 km W of Rauco, Chile\",\"time\":1603860752186,\"updated\":1603947425071,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c6lj\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c6lj&format=geojson\",\"felt\":129,\"cdi\":4.8,\"mmi\":4.416,\"alert\":\"green\",\"status\":\"reviewed\",\"tsunami\":0,\"sig\":527,\"net\":\"us\",\"code\":\"7000c6lj\",\"ids\":\",us7000c6lj,\",\"sources\":\",us,\",\"types\":\",dyfi,losspager,moment-tensor,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":0.222,\"rms\":0.77,\"gap\":44,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.5 - 35 km W of Rauco, Chile\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-71.7052,-34.8853,57.85]},\"id\":\"us7000c6lj\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.5,\"place\":\"123 km NNE of Atka, Alaska\",\"time\":1603858421983,\"updated\":1604377431051,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c6l2\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c6l2&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":2.857,\"alert\":\"green\",\"status\":\"reviewed\",\"tsunami\":1,\"sig\":465,\"net\":\"us\",\"code\":\"7000c6l2\",\"ids\":\",at00qiw92t,pt20302000,us7000c6l2,ak020dvirf4r,\",\"sources\":\",at,pt,us,ak,\",\"types\":\",impact-link,internal-origin,losspager,moment-tensor,oaf,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":1.108,\"rms\":1.04,\"gap\":32,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.5 - 123 km NNE of Atka, Alaska\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-173.4182,53.2014,233.22]},\"id\":\"us7000c6l2\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.4,\"place\":\"53 km NNE of Mamuju, Indonesia\",\"time\":1603827832653,\"updated\":1603914486753,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us7000c6e1\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us7000c6e1&format=geojson\",\"felt\":1,\"cdi\":2.9,\"mmi\":6.086,\"alert\":\"green\",\"status\":\"reviewed\",\"tsunami\":0,\"sig\":449,\"net\":\"us\",\"code\":\"7000c6e1\",\"ids\":\",us7000c6e1,\",\"sources\":\",us,\",\"types\":\",dyfi,losspager,moment-tensor,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":2.461,\"rms\":0.97,\"gap\":19,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.4 - 53 km NNE of Mamuju, Indonesia\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[119.093,-2.2432,22]},\"id\":\"us7000c6e1\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5,\"place\":\"83 km NE of Bāfq, Iran\",\"time\":1603748091306,\"updated\":1603766939444,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us6000cdjs\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us6000cdjs&format=geojson\",\"felt\":3,\"cdi\":2.8,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":385,\"net\":\"us\",\"code\":\"6000cdjs\",\"ids\":\",us6000cdjs,\",\"sources\":\",us,\",\"types\":\",dyfi,origin,phase-data,\",\"nst\":null,\"dmin\":5.666,\"rms\":1.14,\"gap\":57,\"magType\":\"mb\",\"type\":\"earthquake\",\"title\":\"M 5.0 - 83 km NE of Bāfq, Iran\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[56.0348,32.1316,10]},\"id\":\"us6000cdjs\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.1,\"place\":\"169 km W of Gorontalo, Indonesia\",\"time\":1603700795784,\"updated\":1603831531040,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us6000cd8a\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us6000cd8a&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":400,\"net\":\"us\",\"code\":\"6000cd8a\",\"ids\":\",us6000cd8a,\",\"sources\":\",us,\",\"types\":\",origin,phase-data,\",\"nst\":null,\"dmin\":0.923,\"rms\":1.05,\"gap\":21,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.1 - 169 km W of Gorontalo, Indonesia\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[121.5429,0.5849,90.02]},\"id\":\"us6000cd8a\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.5,\"place\":\"Pacific-Antarctic Ridge\",\"time\":1603669391001,\"updated\":1603850190061,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us6000cd45\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us6000cd45&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":0,\"alert\":\"green\",\"status\":\"reviewed\",\"tsunami\":0,\"sig\":465,\"net\":\"us\",\"code\":\"6000cd45\",\"ids\":\",us6000cd45,\",\"sources\":\",us,\",\"types\":\",losspager,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":27.414,\"rms\":0.72,\"gap\":68,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.5 - Pacific-Antarctic Ridge\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-141.6208,-56.6979,10]},\"id\":\"us6000cd45\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.3,\"place\":\"87 km WNW of Iquique, Chile\",\"time\":1603660634814,\"updated\":1603836235441,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us6000cd2g\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us6000cd2g&format=geojson\",\"felt\":16,\"cdi\":3.1,\"mmi\":3.129,\"alert\":\"green\",\"status\":\"reviewed\",\"tsunami\":0,\"sig\":437,\"net\":\"us\",\"code\":\"6000cd2g\",\"ids\":\",us6000cd2g,\",\"sources\":\",us,\",\"types\":\",dyfi,losspager,moment-tensor,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":0.885,\"rms\":0.7,\"gap\":117,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.3 - 87 km WNW of Iquique, Chile\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-70.9604,-20.002,10]},\"id\":\"us6000cd2g\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.1,\"place\":\"10 km SW of Mazatán, Mexico\",\"time\":1603630079705,\"updated\":1603819031096,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us6000ccys\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us6000ccys&format=geojson\",\"felt\":12,\"cdi\":4.1,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":405,\"net\":\"us\",\"code\":\"6000ccys\",\"ids\":\",us6000ccys,\",\"sources\":\",us,\",\"types\":\",dyfi,moment-tensor,origin,phase-data,\",\"nst\":null,\"dmin\":0.848,\"rms\":1.12,\"gap\":139,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.1 - 10 km SW of Mazatán, Mexico\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-92.5237,14.8012,71.22]},\"id\":\"us6000ccys\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":5.9,\"place\":\"75 km NNE of Hihifo, Tonga\",\"time\":1603626457004,\"updated\":1603816850040,\"tz\":null,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us6000ccyh\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us6000ccyh&format=geojson\",\"felt\":9,\"cdi\":4.1,\"mmi\":3.887,\"alert\":\"green\",\"status\":\"reviewed\",\"tsunami\":0,\"sig\":539,\"net\":\"us\",\"code\":\"6000ccyh\",\"ids\":\",pt20299001,us6000ccyh,at00qira3f,\",\"sources\":\",pt,us,at,\",\"types\":\",dyfi,internal-origin,losspager,moment-tensor,origin,phase-data,shakemap,\",\"nst\":null,\"dmin\":5.014,\"rms\":0.71,\"gap\":62,\"magType\":\"mww\",\"type\":\"earthquake\",\"title\":\"M 5.9 - 75 km NNE of Hihifo, Tonga\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-173.4669,-15.3542,32.73]},\"id\":\"us6000ccyh\"}],\"bbox\":[-178.5061,-63.5089,10,179.3161,71.5626,580.1]}";


    /**
     * Create a private constructor because no one should ever create a {@link QueryUtils} object.
     * This class is only meant to hold static variables and methods, which can be accessed
     * directly from the class name QueryUtils (and an object instance of QueryUtils is not needed).
     */
    private QueryUtils() {
    }

    /**
     * Return a list of {@link Earthquake} objects that has been built up from
     * parsing a JSON response.
     */
    public static ArrayList<Earthquake> extractEarthquakes() {

        // Create an empty ArrayList that we can start adding earthquakes to
        ArrayList<Earthquake> earthquakes = new ArrayList<>();

        // Try to parse the SAMPLE_JSON_RESPONSE. If there's a problem with the way the JSON
        // is formatted, a JSONException exception object will be thrown.
        // Catch the exception so the app doesn't crash, and print the error message to the logs.
        try {
            JSONObject rootObject = new JSONObject(SAMPLE_JSON_RESPONSE);
            JSONArray features = rootObject.getJSONArray("features");
            for(int i=0;i<features.length();i++){
                JSONObject featuresObject= features.getJSONObject(i);
                JSONObject properties= featuresObject.getJSONObject("properties");
                Double mag= properties.getDouble("mag");
                String place= properties.getString("place");
                String time= properties.getString("time").toString();
                earthquakes.add(new Earthquake(mag,place,time));
            }
        } catch (JSONException e) {
            // If an error is thrown when executing any of the above statements in the "try" block,
            // catch the exception here, so the app doesn't crash. Print a log message
            // with the message from the exception.
            Log.e("QueryUtils", "Problem parsing the earthquake JSON results", e);
        }

        // Return the list of earthquakes
        return earthquakes;
    }

}